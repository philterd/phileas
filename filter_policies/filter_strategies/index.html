
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="User guide for Phileas, the open source PII/PHI redaction engine.">
      
      
        <meta name="author" content="philterd">
      
      
        <link rel="canonical" href="https://philterd.github.io/phileas/filter_policies/filter_strategies/">
      
      
        <link rel="prev" href="../filters/">
      
      
        <link rel="next" href="../ignoring_sensitive_information/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Filter Strategies - Phileas</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#filter-strategies" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Phileas" class="md-header__button md-logo" aria-label="Phileas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Phileas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Filter Strategies
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/philterd/phileas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Phileas" class="md-nav__button md-logo" aria-label="Phileas" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Phileas
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/philterd/phileas" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deidentification
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deidentification
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deidentification/bucketing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bucketing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deidentification/date-shifting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Date Shifting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Filter Policies
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Filter Policies
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filter_policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filter Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Filter Strategies
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Filter Strategies
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#filter-strategies_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Strategies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-redact-filter-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        The REDACT Filter Strategy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-crypto_replace-filter-strategy-idcrypto" class="md-nav__link">
    <span class="md-ellipsis">
      
        The CRYPTO_REPLACE Filter Strategy {id="crypto"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hash_sha256_replace-filter-strategy-idhash" class="md-nav__link">
    <span class="md-ellipsis">
      
        The HASH_SHA256_REPLACE Filter Strategy {id="hash"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fpe_encrypt_replace-filter-strategy-idfpe" class="md-nav__link">
    <span class="md-ellipsis">
      
        The FPE_ENCRYPT_REPLACE Filter Strategy {id="fpe"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-random_replace-filter-strategy-idrandom" class="md-nav__link">
    <span class="md-ellipsis">
      
        The RANDOM_REPLACE Filter Strategy {id="random"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-static_replace-filter-strategy-idstatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        The STATIC_REPLACE Filter Strategy {id="static"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-truncate-filter-strategy-idtruncate" class="md-nav__link">
    <span class="md-ellipsis">
      
        The TRUNCATE Filter Strategy {id="truncate"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-zero_leading-filter-strategy-idzero_leading" class="md-nav__link">
    <span class="md-ellipsis">
      
        The ZERO_LEADING Filter Strategy {id="zero_leading"}
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-strategy-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Strategy Conditions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter Strategy Conditions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combining-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Conditions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ignoring_sensitive_information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ignoring Sensitive Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sample_filter_policies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sample Filter Policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Other Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Other Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other_features/anonymization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anonymization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../other_features/span_disambiguation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Span Disambiguation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../settings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#filter-strategies_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Strategies
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter Strategies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-redact-filter-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      
        The REDACT Filter Strategy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-crypto_replace-filter-strategy-idcrypto" class="md-nav__link">
    <span class="md-ellipsis">
      
        The CRYPTO_REPLACE Filter Strategy {id="crypto"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-hash_sha256_replace-filter-strategy-idhash" class="md-nav__link">
    <span class="md-ellipsis">
      
        The HASH_SHA256_REPLACE Filter Strategy {id="hash"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fpe_encrypt_replace-filter-strategy-idfpe" class="md-nav__link">
    <span class="md-ellipsis">
      
        The FPE_ENCRYPT_REPLACE Filter Strategy {id="fpe"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-random_replace-filter-strategy-idrandom" class="md-nav__link">
    <span class="md-ellipsis">
      
        The RANDOM_REPLACE Filter Strategy {id="random"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-static_replace-filter-strategy-idstatic" class="md-nav__link">
    <span class="md-ellipsis">
      
        The STATIC_REPLACE Filter Strategy {id="static"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-truncate-filter-strategy-idtruncate" class="md-nav__link">
    <span class="md-ellipsis">
      
        The TRUNCATE Filter Strategy {id="truncate"}
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-zero_leading-filter-strategy-idzero_leading" class="md-nav__link">
    <span class="md-ellipsis">
      
        The ZERO_LEADING Filter Strategy {id="zero_leading"}
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-strategy-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Strategy Conditions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filter Strategy Conditions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combining-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Conditions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="filter-strategies">Filter Strategies</h1>
<p>A filter strategy defines how sensitive information identified by Phileas should be manipulated, whether it is redacted, replaced, encrypted, or manipulated in some other fashion.</p>
<p>In a policy, you list the types of sensitive information that should be filtered. How Phileas replaces each type of sensitive information is specific to each type. For instance, zip codes can be truncated based on the leading digits or zip code population while phone numbers are redacted. These replacements are performed by "filter strategies."</p>
<blockquote>
<p>Each filter can have one or more filter strategies and conditions can be used to determine when to apply each filter strategy.</p>
</blockquote>
<p>A sample policy containing a filter strategy is shown below. In this example, email addresses will be redacted.</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;REDACT&quot;,
               &quot;redactionFormat&quot;: &quot;{{{REDACTED-%t}}}&quot;
            }
         ]
      }
   }
}
</code></pre>
<blockquote>
<p>Most of the filter strategies apply to all types of data, however, some filter strategies only apply to a few types. For example, the <code>TRUNCATE</code> filter strategy only applies to a zip code filter.</p>
</blockquote>
<h2 id="filter-strategies_1">Filter Strategies</h2>
<p>The filter strategies are described below. Each filter type can specify zero or more filter strategies. When no filter strategies are given, Phileas will default to <code>REDACT</code> for that filter type. When multiple filter strategies are given for a single filter type, the filter strategies will be applied in order as they are listed in the policy, top to bottom.</p>
<ul>
<li><a href="filter-strategies.md#the-redact-filter-strategy"><code>REDACT</code></a></li>
<li><a href="filter-strategies.md#crypto"><code>CRYPTO_REPLACE</code></a>(AES encryption)</li>
<li><a href="filter-strategies.md#hash"><code>HASH_SHA256_REPLACE</code></a>(SHA512 encryption)</li>
<li><a href="filter-strategies.md#fpe"><code>FPE_ENCRYPT_REPLACE</code></a>(Format-preserving encryption)</li>
<li><a href="filter-strategies.md#random"><code>RANDOM_REPLACE</code></a></li>
<li><a href="filter-strategies.md#static"><code>STATIC_REPLACE</code></a></li>
<li><a href="filter-strategies.md#truncate"><code>TRUNCATE</code></a></li>
<li><a href="filter-strategies.md#zero_leading"><code>ZERO_LEADING</code></a></li>
</ul>
<h3 id="the-redact-filter-strategy">The <code>REDACT</code> Filter Strategy</h3>
<p>The REDACT filter strategy replaces sensitive information with a given redaction format. You can put variables in the redaction format that Phileas will replace when performing the redaction.</p>
<p>The available redaction variables are:</p>
<table>
<thead>
<tr>
<th>Redaction Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%t</code></td>
<td>Will be replaced with the type of sensitive information. This is to allow you to know the type of sensitive information that was identified and redacted.</td>
</tr>
<tr>
<td><code>%l</code></td>
<td>Will be replaced by the given classification for the type of sensitive information.</td>
</tr>
<tr>
<td><code>%v</code></td>
<td>Will be replaced by the original value of the sensitive text. With <code>%v</code> you can annotate sensitive information instead of masking or removing it.</td>
</tr>
</tbody>
</table>
<p>To redact sensitive information by replacing it with the type of sensitive information, the redaction format would be <code>REDACTED-%t</code>.</p>
<p>An example filter using the <code>REDACT</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;REDACT&quot;,
               &quot;redactionFormat&quot;: &quot;{{{REDACTED-%t}}}&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-crypto_replace-filter-strategy-idcrypto">The <code>CRYPTO_REPLACE</code> Filter Strategy {id="crypto"}</h3>
<p>The <code>CRYPTO_REPLACE</code> filter strategy replaces each identified piece of sensitive information by encrypting it using the AES encryption algorithm. To use this filter strategy, the policy must include the details of the encryption key as shown below:</p>
<pre><code>{
   &quot;name&quot;:&quot;sample-profile&quot;,
   &quot;crypto&quot;: {
     &quot;key&quot;: &quot;....&quot;,
     &quot;iv&quot;: &quot;....&quot;
   },
   ...
</code></pre>
<p>In the snippet of a policy shown above, a crypto element is is defined with a <code>key</code> and an initialization vector (<code>iv</code>). These two items are required to encrypt the sensitive information. To generate a key, run the following command:</p>
<pre><code>openssl enc -e -aes-256-cbc -a -salt -P
</code></pre>
<p>You will be prompted to enter an encryption password. Once entered, the values of the <code>key</code> and <code>iv</code> will be shown. Copy and paste those values into the policy.</p>
<p>An example policy using the <code>CRYPTO_REPLACE</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;crypto&quot;: {
     &quot;key&quot;: &quot;....&quot;,
     &quot;iv&quot;: &quot;....&quot;
   },
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;CRYPTO_REPLACE&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-hash_sha256_replace-filter-strategy-idhash">The <code>HASH_SHA256_REPLACE</code> Filter Strategy {id="hash"}</h3>
<p>The <code>HASH_SHA256_REPLACE</code> filter strategy replaces sensitive information with the SHA256 hash value of the sensitive information. To append a random salt value to each value prior to hashing, set the <code>salt</code> property to <code>true</code>. The salt value used will be returned in the <code>explain</code> response from Phileas' API.</p>
<p>An example policy using the <code>HASH_SHA256_REPLACE</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;HASH_SHA256_REPLACE&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-fpe_encrypt_replace-filter-strategy-idfpe">The FPE_ENCRYPT_REPLACE Filter Strategy {id="fpe"}</h3>
<p>The <code>FPE_ENCRYPT_REPLACE</code> filter strategy uses format-preserving encryption (FPE) to encrypt the sensitive information. Phileas uses the FF3-1 algorithm for format-preserving encryption. The FPE_ENCRYPT_REPLACE filter strategy requires a <code>key</code> and a <code>tweak</code> value. These values control the format-preserving encryption. For more information on these values and format-preserving encryption, refer to the resources below:</p>
<ul>
<li><a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38Gr1-draft.pdf">https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-38Gr1-draft.pdf</a></li>
<li><a href="https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-38g.pdf">https://nvlpubs.nist.gov/nistpubs/specialpublications/nist.sp.800-38g.pdf</a></li>
</ul>
<p>An example policy using the FPE_ENCRYPT_REPLACE filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;credit-cards&quot;,
   &quot;identifiers&quot;: {
      &quot;creditCardNumbers&quot;: {
         &quot;creditCardNumbersFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;FPE_ENCRYPT_REPLACE&quot;,
               &quot;key&quot;: &quot;...&quot;,
               &quot;tweak&quot;: &quot;...&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-random_replace-filter-strategy-idrandom">The <code>RANDOM_REPLACE</code> Filter Strategy {id="random"}</h3>
<p>Replaces the identified text with one of the following:</p>
<ul>
<li>A fake value but of the same type. For example, an SSN will be replaced by a random text having the format <code>###-##-####</code>, such as 123-45-6789. An email address will be replaced with a randomly generated email address. Available to all filter types. Set <code>anonymizationMethod</code> to <code>REALISTIC</code>.</li>
<li>A random value from a list of candidate replacement values. For example, an SSN could be replaced with a random value from a list of known fake SSNs. Available to all filter types. Set <code>anonymizationMethod</code> to <code>FROM_LIST</code>, and set <code>candidateReplacementValues</code> to a list of candidate replacement values.</li>
<li>A random UUID. Set <code>anonymizationMethod</code> to <code>UUID</code>.</li>
</ul>
<p>If <code>anonymizationMethod</code> is not specified, the default is <code>REALISTIC</code>. If an invalid value is given for <code>anonymizationMethod</code>, <code>UUID</code> will be used as the default.</p>
<p>An example policy using the <code>REALISTIC</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;RANDOM_REPLACE&quot;,
               &quot;anonymizationMethod&quot;: &quot;REALISTIC&quot;
            }
         ]
      }
   }
}
</code></pre>
<p>An example policy using the <code>RANDOM_REPLACE</code> filter strategy with a list of candidate replacement values:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;RANDOM_REPLACE&quot;,
               &quot;anonymizationMethod&quot;: &quot;FROM_LIST&quot;,
               &quot;candidateReplacementValues&quot;: [
                  &quot;123-45-6789&quot;,
                  &quot;987-65-4321&quot;,
                  &quot;555-55-5555&quot;
               ]
            }
         ]
      }
   }
}
</code></pre>
<p>An example policy using the <code>RANDOM_REPLACE</code> filter strategy with a UUID:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;RANDOM_REPLACE&quot;,
               &quot;anonymizationMethod&quot;: &quot;UUID&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-static_replace-filter-strategy-idstatic">The <code>STATIC_REPLACE</code> Filter Strategy {id="static"}</h3>
<p>Replaces the identified text with a given static value. Available to all filter types.</p>
<p>An example policy using the <code>STATIC_REPLACE</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;email-address&quot;,
   &quot;identifiers&quot;: {
      &quot;emailAddress&quot;: {
         &quot;emailAddressFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;STATIC_REPLACE&quot;,
               &quot;staticReplacement&quot;: &quot;some new value&quot;
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-truncate-filter-strategy-idtruncate">The <code>TRUNCATE</code> Filter Strategy {id="truncate"}</h3>
<p>This strategy allows for truncating tokens to only a select number of digits. Specify <code>truncateLeaveCharacters</code>
to set the desired number of digits to leave. For example, if <code>truncateLeaveCharacters</code> is 4, the
string <code>4111111111111111</code> will be truncated to <code>4111************</code>. <code>truncateDirection</code> can be set to
<code>LEADING</code> (the default) which leaves N leading digits or <code>TRAILING</code> which leaves N trailing digits.
<code>truncateCharacter</code> can be overwritten (defaults to <code>*</code>) to change the character that is used for the
replacement.</p>
<p>The <code>TRUNCATE</code> filter has special behavior for the zip code filter. For zip codes the Zip will always be truncated
to 5 digits long. For example, <code>truncateLeaveCharacters=2</code> and a token of <code>90210-0110</code> will result in <code>90***</code>.</p>
<pre><code>{
   &quot;name&quot;: &quot;zip-codes&quot;,
   &quot;identifiers&quot;: {
      &quot;zipCode&quot;: {
         &quot;zipCodeFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;TRUNCATE&quot;,
               &quot;truncateLeaveCharacters&quot;: 3
            }
         ]
      }
   }
}
</code></pre>
<h3 id="the-zero_leading-filter-strategy-idzero_leading">The <code>ZERO_LEADING</code> Filter Strategy {id="zero_leading"}</h3>
<p>Available only to zip codes, this strategy changes the first 3 digits of a zip code to be 0. For example, the zip code 90210 will be changed to 00010.</p>
<p>The <code>ZERO_LEADING</code> filter strategy is only available to zip code filters. An example zip code filter using the <code>ZERO_LEADING</code> filter strategy:</p>
<pre><code>{
   &quot;name&quot;: &quot;zip-codes&quot;,
   &quot;identifiers&quot;: {
      &quot;zipCodes&quot;: {
         &quot;zipCodeFilterStrategies&quot;: [
            {
               &quot;strategy&quot;: &quot;ZERO_LEADING&quot;
            }
         ]
      }
   }
}
</code></pre>
<h2 id="filter-strategy-conditions">Filter Strategy Conditions</h2>
<p>A replacement strategy can be applied based on the sensitive information meeting one or more conditions. For example, you can create a condition such that only dates of <code>11/05/2010</code> are replaced by using the condition <code>token == "11/05/2010"</code>. The conditions that can be applied vary based on the type of sensitive information. For instance, zip codes can have conditions based on their population. Refer to each specific <a href="filters_README.md">filter type</a> for the conditions available.</p>
<p>The following is an example policy for credit cards that contains a condition to only redact credit card numbers that start with the digits <code>3000</code>:</p>
<pre><code>{
  &quot;name&quot;: &quot;default&quot;,
  &quot;identifiers&quot;: {
    &quot;creditCard&quot;: {
      &quot;creditCardFilterStrategies&quot;: [
        {
          &quot;condition&quot;: &quot;token startswith \&quot;3000\&quot;&quot;,
          &quot;strategy&quot;: &quot;REDACT&quot;,
          &quot;redactionFormat&quot;: &quot;{{{REDACTED-%t}}}&quot;
        }
      ]
    }
  }
}
</code></pre>
<h4 id="combining-conditions">Combining Conditions</h4>
<p>Conditions can be joined through the use of the <code>and</code> keyword. When conditions are joined, each condition must be satisfied for the identified text to be filtered. If any of the conditions are not satisfied the identified text will not be filtered. Below is an example joined condition:</p>
<pre><code>token != &quot;123-45-6789&quot; and context == &quot;my-context&quot;
</code></pre>
<p>This condition requires that the identified text (the token) not be equal to <code>123-45-6789</code> and the context be equal to <code>my-context</code>. Both of these conditions must be satisfied for the identified text to be filtered.</p>
<p>Conversely, conditions can be <code>OR</code>'d through the use of multiple filter strategies. For example, if we want to <code>OR</code> a condition on the token and a condition on the context, we would use two filter strategies:</p>
<pre><code>&quot;ssnFilterStrategies&quot;: [
  {
    &quot;condition&quot;: &quot;token != \&quot;123-45-6789\&quot;&quot;,
    &quot;strategy&quot;: &quot;REDACT&quot;,
    &quot;redactionFormat&quot;: &quot;{{{REDACTED-%t}}}&quot;
  },
  {
    &quot;condition&quot;: &quot;context == \&quot;my-context\&quot;&quot;,
    &quot;strategy&quot;: &quot;REDACT&quot;,
    &quot;redactionFormat&quot;: &quot;{{{REDACTED-%t}}}&quot;
  }        
]
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright 2024 Philterd, LLC
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>